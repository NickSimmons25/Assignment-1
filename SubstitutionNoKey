#include <stdio.h>
#include <string.h>
#include <stdlib.h>
#include <math.h>

 double fitness(char formattedText[]);
 char decryptSubCipher(char x, char cipherKey[]);

int main(void) {
  int rand1 = 0;
  int rand2 = 0;
  char originalNum1 = 0;
  char originalNum2 = 0;
  char key[] = "QWERTYUIOPASDFGHJKLZXCVBNM";
  char formattedText[] = "RCRVYEBGBXHBNXFHBFXNQBRVYMRNXFHIZNQEBCJFHBPCJBCFHYEQHFKYFCFJKYFNJFYXVFHBDBRCPYEZRFBZZVYECFJNJCFHZBQBKRRNXFHIZNQEBCJPNJNRNXAZYXRYMFHBJCFHJYIYPBXMEZNKRJYPCJBHBLYEZREJBFHBMYXLBFYCKMZEBKLBFHBOCRCLHZYXCNKJFYLXBNFBZCMBHBHNRJELHNAKYPZBRQBYMFHBRNXAJCRBFHNFHBLYEZRBGBKABBIFHBYKBJHBLNXBRNWYEFMXYORVCKQFHBRNXAJCRBYMFHBMYXLBCJNINFHPNVFYONKVNWCZCFCBJJYOBLYKJCRBXFYWBEKKNFEXNZHBWBLNOBJYIYPBXMEZFHBYKZVFHCKQHBPNJNMXNCRYMPNJZYJCKQHCJIYPBXPHCLHBGBKFENZZVYMLYEXJBHBRCREKMYXFEKNFBZVHBFNEQHFHCJNIIXBKFCLBBGBXVFHCKQHBAKBPFHBKHCJNIIXBKFCLBACZZBRHCOCKHCJJZBBICXYKCLHBLYEZRJNGBYFHBXJMXYORBNFHWEFKYFHCOJBZM";
  char bestAnswer[] = "RCRVYEBGBXHBNXFHBFXNQBRVYMRNXFHIZNQEBCJFHBPCJBCFHYEQHFKYFCFJKYFNJFYXVFHBDBRCPYEZRFBZZVYECFJNJCFHZBQBKRRNXFHIZNQEBCJPNJNRNXAZYXRYMFHBJCFHJYIYPBXMEZNKRJYPCJBHBLYEZREJBFHBMYXLBFYCKMZEBKLBFHBOCRCLHZYXCNKJFYLXBNFBZCMBHBHNRJELHNAKYPZBRQBYMFHBRNXAJCRBFHNFHBLYEZRBGBKABBIFHBYKBJHBLNXBRNWYEFMXYORVCKQFHBRNXAJCRBYMFHBMYXLBCJNINFHPNVFYONKVNWCZCFCBJJYOBLYKJCRBXFYWBEKKNFEXNZHBWBLNOBJYIYPBXMEZFHBYKZVFHCKQHBPNJNMXNCRYMPNJZYJCKQHCJIYPBXPHCLHBGBKFENZZVYMLYEXJBHBRCREKMYXFEKNFBZVHBFNEQHFHCJNIIXBKFCLBBGBXVFHCKQHBAKBPFHBKHCJNIIXBKFCLBACZZBRHCOCKHCJJZBBICXYKCLHBLYEZRJNGBYFHBXJMXYORBNFHWEFKYFHCOJBZM";
  double fitnessVal = 0;
  double bestFitness = fitnessVal;
  int c = 0;
  while(c < 1000)
  {
    rand1 = rand() % 26;
    rand2 = rand() % 26;
    originalNum1 = key[rand1];
    originalNum2 = key[rand2];
    key[rand1] = key[rand2];
    key[rand2] = originalNum1;
    
    for(int y = 0; y < strlen(formattedText); y++)
      formattedText[y] = decryptSubCipher(formattedText[y], key);
    double fitnessVal = fitness(formattedText);
    if(fitnessVal > bestFitness)
    {
      c = 0;
      bestFitness = fitnessVal;
      for(int z = 0; z < strlen(bestAnswer); z++)
        bestAnswer[z] = formattedText[z];
    }
    else
    {
      key[rand1] = originalNum1;
      key[rand2] = originalNum2;
    }
    c++;
  }
  printf("%s\n", bestAnswer);
  printf("%s\n", key);
}

